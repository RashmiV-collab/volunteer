import{l as d,a4 as A,r as E,j as o,ah as T}from"./main.js";import{c as S,d as B,n as g,B as P,j as m,L as R,N as V,a0 as v}from"./MetaData-bdfb949d.js";import{C as w}from"./ConfirmDialog-c5a9ed7e.js";import{e as M}from"./Actions-b625cbe1.js";import{I as r}from"./iconBase-8840166b.js";import"./DialogContent-0fdbfaca.js";import"./Select-2486f905.js";import"./FormHelperText-d043b602.js";import"./FormControl-5d7bce62.js";import"./createSvgIcon-d0cfe483.js";import"./DialogTitle-3605c73e.js";import"./Button-e7d59fde.js";const Q=({dbs:x,tbl:f,metaData:s,appId:n,rowId:t,rowData:c,showForm:l,refetch:j})=>{var a,u;d.debug(s,n,t,c);const h=S(),i=B(e=>A(e,n));d.debug("storeTableSettings",i);const[y,p]=E.useState(!1),C=i.viewLink,b=!g(s)&&((a=s==null?void 0:s.privs)==null?void 0:a.update)&&i.transactions.update,k=!g(s)&&((u=s==null?void 0:s.privs)==null?void 0:u.delete)&&i.transactions.delete;return o.jsxs(P,{sx:{position:"sticky",display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"start",alignItems:"center",gap:"5px"},children:[C&&o.jsx(r,{color:"primary",onClick:e=>{Object.keys(t).length||h(T({appId:n,data:c,context:null})),l(t,m.VIEW),e.stopPropagation()},children:o.jsx(R,{})}),b&&o.jsx(r,{color:"primary",onClick:e=>{e.stopPropagation(),l(t,m.UPDATE)},children:o.jsx(V,{})}),k&&o.jsxs(o.Fragment,{children:[o.jsx(r,{color:"error",onClick:e=>{e.stopPropagation(),p(!0)},children:o.jsx(v,{})}),o.jsx(w,{title:"Delete row?",message:"Are you sure you want to delete this row? This action cannot be undone!",open:y,setOpen:p,onConfirm:()=>{M(x,f,t,function(){j()})}})]})]})};export{Q as default};
