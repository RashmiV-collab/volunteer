import{r as i,_ as u,l as m,j as e,aj as x}from"./main.js";import{u as R}from"./Actions-b625cbe1.js";import{i as C,j as P}from"./index.esm-df7700a0.js";import{B as f}from"./MetaData-bdfb949d.js";import{B as z}from"./Button-e7d59fde.js";import"./iconBase-8840166b.js";const B=i.lazy(()=>u(()=>import("./InlineText-7a981b9f.js"),["./InlineText-7a981b9f.js","./main.js","./main-a9f78bc8.css","./TextField-0f586f77.js","./iconBase-8840166b.js","./FormControl-5d7bce62.js","./MetaData-bdfb949d.js","./Select-2486f905.js","./FormHelperText-d043b602.js","./createSvgIcon-d0cfe483.js","./InputAdornment-cdfef043.js"],import.meta.url)),O=i.lazy(()=>u(()=>import("./InlineTextarea-d2667b20.js"),["./InlineTextarea-d2667b20.js","./main.js","./main-a9f78bc8.css","./TextField-0f586f77.js","./iconBase-8840166b.js","./FormControl-5d7bce62.js","./MetaData-bdfb949d.js","./Select-2486f905.js","./FormHelperText-d043b602.js","./createSvgIcon-d0cfe483.js"],import.meta.url)),A=i.lazy(()=>u(()=>import("./InlineNumber-a00981bb.js"),["./InlineNumber-a00981bb.js","./main.js","./main-a9f78bc8.css","./TextField-0f586f77.js","./iconBase-8840166b.js","./FormControl-5d7bce62.js","./MetaData-bdfb949d.js","./Select-2486f905.js","./FormHelperText-d043b602.js","./createSvgIcon-d0cfe483.js","./InputAdornment-cdfef043.js"],import.meta.url)),V=i.lazy(()=>u(()=>import("./InlineDate-b0dc625b.js"),["./InlineDate-b0dc625b.js","./main.js","./main-a9f78bc8.css","./LanguagesSupport-f1bbac94.js","./dayjs.min-b4f908d3.js","./AdapterDayjs-ac00a94e.js","./iconBase-8840166b.js","./useMobilePicker-c4cfadfc.js","./DialogContent-0fdbfaca.js","./MetaData-bdfb949d.js","./Select-2486f905.js","./FormHelperText-d043b602.js","./FormControl-5d7bce62.js","./createSvgIcon-d0cfe483.js","./InputAdornment-cdfef043.js","./Button-e7d59fde.js","./Chip-505aa5a1.js","./DatePicker-aa62f03a.js","./dateViewRenderers-8287ebc5.js","./TextField-0f586f77.js"],import.meta.url)),k=i.lazy(()=>u(()=>import("./InlineDatetime-f259e45e.js"),["./InlineDatetime-f259e45e.js","./main.js","./main-a9f78bc8.css","./LanguagesSupport-f1bbac94.js","./dayjs.min-b4f908d3.js","./AdapterDayjs-ac00a94e.js","./iconBase-8840166b.js","./useMobilePicker-c4cfadfc.js","./DialogContent-0fdbfaca.js","./MetaData-bdfb949d.js","./Select-2486f905.js","./FormHelperText-d043b602.js","./FormControl-5d7bce62.js","./createSvgIcon-d0cfe483.js","./InputAdornment-cdfef043.js","./Button-e7d59fde.js","./Chip-505aa5a1.js","./DateTimePicker-f85a0a27.js","./date-time-utils-4fe3c7b6.js","./MenuItem-13e93691.js","./dateViewRenderers-8287ebc5.js","./Divider-04519c21.js","./TextField-0f586f77.js"],import.meta.url)),b=i.lazy(()=>u(()=>import("./InlineTime-efcf10d0.js"),["./InlineTime-efcf10d0.js","./main.js","./main-a9f78bc8.css","./LanguagesSupport-f1bbac94.js","./dayjs.min-b4f908d3.js","./AdapterDayjs-ac00a94e.js","./iconBase-8840166b.js","./useMobilePicker-c4cfadfc.js","./DialogContent-0fdbfaca.js","./MetaData-bdfb949d.js","./Select-2486f905.js","./FormHelperText-d043b602.js","./FormControl-5d7bce62.js","./createSvgIcon-d0cfe483.js","./InputAdornment-cdfef043.js","./Button-e7d59fde.js","./Chip-505aa5a1.js","./TimePicker-6899b05f.js","./date-time-utils-4fe3c7b6.js","./MenuItem-13e93691.js","./TextField-0f586f77.js"],import.meta.url)),F=i.lazy(()=>u(()=>import("./InlineCheckbox-f620fc13.js"),["./InlineCheckbox-f620fc13.js","./main.js","./main-a9f78bc8.css","./FormControlLabel-b874e6c1.js","./iconBase-8840166b.js","./FormHelperText-d043b602.js","./FormControl-5d7bce62.js","./MetaData-bdfb949d.js","./Checkbox-936eee09.js","./createSvgIcon-d0cfe483.js"],import.meta.url)),q=i.lazy(()=>u(()=>import("./InlineEnum-b48e1297.js"),["./InlineEnum-b48e1297.js","./main.js","./main-a9f78bc8.css","./Select-2486f905.js","./iconBase-8840166b.js","./FormHelperText-d043b602.js","./FormControl-5d7bce62.js","./MetaData-bdfb949d.js","./createSvgIcon-d0cfe483.js","./MenuItem-13e93691.js","./EnumTypeEnum-7ffcf33a.js","./RadioGroup-04724101.js","./Radio-4f834152.js","./FormControlLabel-b874e6c1.js"],import.meta.url)),N=i.lazy(()=>u(()=>import("./InlineSet-71cdebf3.js"),["./InlineSet-71cdebf3.js","./main.js","./main-a9f78bc8.css","./Select-2486f905.js","./iconBase-8840166b.js","./FormHelperText-d043b602.js","./FormControl-5d7bce62.js","./MetaData-bdfb949d.js","./createSvgIcon-d0cfe483.js","./MenuItem-13e93691.js"],import.meta.url)),Q=({dbs:g,tbl:j,primaryKey:E,columnName:y,columnValue:_,tableState:t,columnMetaData:s,columnState:o})=>{m.debug(g,j,E,y,_,t,s,o);const[I,w]=i.useState(_),[r,n]=i.useState(_),[L,c]=i.useState(!1);i.useEffect(()=>{n(_)},[_]);const d=()=>{const p={};p[y]=r,m.debug(p,r,I),R(g,j,E,p,function(l){(l==null?void 0:l.code.toLowerCase())==="ok"?l.data==="Row successfully updated"?(w(r),x("Successfully committed changes",{variant:"success"})):l.data==="Nothing to update"&&x(l.data,{variant:"info"}):(x("Error saving data, please check console",{variant:"error"}),m.error(l))})},a=()=>{n(I),x("Successfully reverted changes",{variant:"info"})},T=()=>{if(s.column_type.toLowerCase()==="tinyint(1)")return e.jsx(i.Suspense,{children:e.jsx(F,{value:r,tableState:t,columnState:o,columnMetaData:s,setValue:n,saveChanges:d,cancel:a,setButtons:c})});switch(s.data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return e.jsx(i.Suspense,{children:e.jsx(A,{value:r,tableState:t,columnState:o,columnMetaData:s,setValue:n,saveChanges:d,cancel:a,setButtons:c})});case"enum":return e.jsx(i.Suspense,{children:e.jsx(q,{value:r,tableState:t,columnState:o,columnMetaData:s,setValue:n,saveChanges:d,cancel:a,setButtons:c})});case"set":return e.jsx(i.Suspense,{children:e.jsx(N,{value:r,tableState:t,columnState:o,columnMetaData:s,setValue:n,saveChanges:d,cancel:a,setButtons:c})});case"time":return e.jsx(i.Suspense,{children:e.jsx(b,{value:r,tableState:t,columnState:o,columnMetaData:s,setValue:n,saveChanges:d,cancel:a,setButtons:c})});case"date":return e.jsx(i.Suspense,{children:e.jsx(V,{value:r,tableState:t,columnState:o,columnMetaData:s,setValue:n,saveChanges:d,cancel:a,setButtons:c})});case"datetime":case"timestamp":return e.jsx(i.Suspense,{children:e.jsx(k,{value:r,tableState:t,columnState:o,columnMetaData:s,setValue:n,saveChanges:d,cancel:a,setButtons:c})});case"tinytext":case"text":case"mediumtext":case"longtext":return e.jsx(i.Suspense,{children:e.jsx(O,{value:r,tableState:t,columnState:o,columnMetaData:s,setValue:n,saveChanges:d,cancel:a,setButtons:c})});default:return e.jsx(i.Suspense,{children:e.jsx(B,{value:r,tableState:t,columnState:o,columnMetaData:s,setValue:n,saveChanges:d,cancel:a,setButtons:c})})}return e.jsx(e.Fragment,{children:r})},v=()=>{switch(s.data_type.toLowerCase()){case"tinyint":return s.column_type.toLowerCase()!=="tinyint(1)";case"enum":case"set":return!1;default:return!0}},h=(t.inlineEditing.spacing.fieldTop??8)+(t.inlineEditing.spacing.fieldBottom??8)>=16;return m.debug(h),e.jsxs(f,{sx:{display:"grid",gridTemplateColumns:v()?"1fr 20px":"1fr"},children:[T(),v()&&e.jsxs(z,{variant:"contained",disableRipple:!0,disabled:!L,tabIndex:-1,sx:{display:"inline-grid",gridTemplateColumns:h?"auto":"auto auto",justifyContent:"space-around",alignItems:"center",borderTopLeftRadius:0,borderBottomLeftRadius:0,padding:0,margin:0,width:h?"1.2rem":"2.4rem",minWidth:0,boxShadow:"none !important"},children:[e.jsx(f,{sx:{height:"1.2rem",width:"1.2rem",boxShadow:"none !important"},onClick:p=>{d(),p.stopPropagation()},children:e.jsx(C,{style:{fontSize:"1.2rem"}})}),e.jsx(f,{sx:{height:"1.2rem",width:"1.2rem",boxShadow:"none !important"},onClick:p=>{a(),p.stopPropagation()},children:e.jsx(P,{style:{fontSize:"1.2rem"}})})]})]})};export{Q as default};
