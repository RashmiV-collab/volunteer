import{r as E,_ as V,l as r,aY as S,bh as T,a4 as B,bi as I,W as w,j as n,bj as A}from"./main.js";import{c as L,d as m,q as M,F as y}from"./MetaData-bdfb949d.js";import{C as R}from"./ComputedFieldTypeEnum-9a013b11.js";import"./iconBase-8840166b.js";const W=E.lazy(()=>V(()=>import("./Column-e1a2e69c.js"),["./Column-e1a2e69c.js","./main.js","./main-a9f78bc8.css"],import.meta.url)),X=({dbs:a,tbl:b,appId:t,metaData:l,data:i,primaryKey:_,formMode:c,formSettings:p})=>{r.debug(a,b,l,i,_,c,p);const h=L(),s=m(e=>S(e,t));r.debug("storeColumns",s);const g=s.map(e=>e.columnName);r.debug("sortableColumns",g);const C=m(e=>T(e,t));r.debug("rowValidation",C);const F=m(e=>B(e,t));r.debug("tableSettings",F);const j=I(w.getState(),t),v=(e,o)=>{r.debug(e,o),h(A({appId:t,dbs:a,tbl:b,columnName:e,columnValue:o}))};return R.TEXT,n.jsx(n.Fragment,{children:g.map((e,o)=>{if(s[o].computedField!==void 0)return null;const u=M(l,e);if(u===void 0)return null;const d={...l==null?void 0:l.columns[u]};if(d.column_name&&s[o].visible===!0){let f="";i&&i[e]!==void 0&&(f=i[e]),d.formLabel=s[o].columnLabel;let x=c;return c!==y.VIEW&&(s[o].updatable||(x=y.VIEW)),n.jsx(E.Suspense,{children:n.jsx("div",{style:{display:"grid",padding:"0"},children:n.jsx(W,{appId:t,columnName:e,columnValue:f,columnMetaData:d,storeColumn:s[o],columnValidation:C[e],onColumnChange:v,metaData:l,context:j,storeTable:F,storeForm:p,formMode:x},u)})},u)}else return null})})};export{X as default};
