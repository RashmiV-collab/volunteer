import{l as h,j as d,aj as I}from"./main.js";import{T as b}from"./TextField-0f586f77.js";import{I as u}from"./InputAdornment-cdfef043.js";import"./iconBase-8840166b.js";import"./FormControl-5d7bce62.js";import"./MetaData-bdfb949d.js";import"./Select-2486f905.js";import"./FormHelperText-d043b602.js";import"./createSvgIcon-d0cfe483.js";const W=({value:a,tableState:e,columnState:i,columnMetaData:s,setValue:m,saveChanges:M,cancel:l,setButtons:o})=>{var f,x,g,t;h.debug(a,e,i,s);const p={step:parseInt(s.numeric_scale)===0?"0":(1/Math.pow(10,s.numeric_scale)).toString(),lang:e.locale};return(i==null?void 0:i.inlineNumericMin)!==void 0&&(p.min=i.inlineNumericMin),(i==null?void 0:i.inlineNumericMax)!==void 0&&(p.max=i.inlineNumericMax),d.jsx(b,{type:"number",className:"pp-inline-editing",value:a??"",required:s.is_nullable==="NO",inputProps:p,InputProps:{startAdornment:(i==null?void 0:i.prefix)&&d.jsx(u,{position:"start",children:(x=(f=i==null?void 0:i.prefix)==null?void 0:f.trimStart())==null?void 0:x.trimEnd()}),endAdornment:(i==null?void 0:i.suffix)&&d.jsx(u,{position:"end",children:(t=(g=i==null?void 0:i.suffix)==null?void 0:g.trimStart())==null?void 0:t.trimEnd()})},variant:e.inlineEditing.fieldVariant,onClick:r=>{r.stopPropagation()},onChange:r=>{m(r.target.value)},onKeyDown:r=>{if(r.key==="Enter"){let n=!0;r.target.value!==""&&(r.target.min&&parseInt(r.target.value)<parseInt(r.target.min)&&(I("Minimum value allowed is "+r.target.min,{variant:"error"}),n=!1),r.target.max&&parseInt(r.target.value)>parseInt(r.target.max)&&(I("Maximum value allowed is "+r.target.max,{variant:"error"}),n=!1)),n&&M()}else r.key==="Escape"&&l()},onFocus:()=>{o(!0)},onBlur:()=>{setTimeout(()=>{o(!1)},200)},sx:{"& input":{textAlign:i.alignment},"& .MuiInputBase-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderWidth:"1px"},"& .MuiInputBase-root:before":{borderBottomWidth:"1px !important"},"& .MuiInputBase-root.Mui-focused:after":{borderBottomWidth:"1px"}}})};export{W as default};
