var EmbeddableWidgetForm=function(){return{init:function(){Common.logInfo("EmbeddableWidgetForm.init..."),jQuery(".event-manager-chosen-select").chosen(),jQuery("#widget-get-code").on("click",EmbeddableWidgetForm.actions.getCode)},actions:{getCode:function(e){Common.logInfo("EmbeddableWidgetForm.getCode...");var t=jQuery("#widget_keyword").val(),d=jQuery("#widget_location").val(),n=jQuery("#widget_per_page").val(),o=jQuery("#widget_pagination").is(":checked")?1:0,eh=jQuery("#widget_event_hosting").is(":checked")?1:0,i=jQuery("#widget_categories").val(),r=jQuery("#widget_event_type").val(),ed=jQuery("#widget_distance").val();i=i?i.join():"",r=r?r.join():"";var a="<script type='text/javascript'>\n	                                var embeddable_event_widget_options = {\n		                                'script_url' : '"+embeddable_event_widget_form_args.script_url+"',\n 'volunteer_group' : '"+embeddable_event_widget_form_args.id+"',\n		                                'keywords'   : '"+escape(t)+"',\n		                                'location'   : '"+escape(d)+"',\n		                                'categories' : '"+i+"',\n		                                'event_types'  : '"+r+"',\n		                                'per_page'   : '"+parseInt(n)+"',\n		                                'pagination' : '"+parseInt(o)+"',\n		                                'event_hosted' : '"+parseInt(eh)+"',\n	  'event_distance'  : '"+ed+"'\n                               };\n                                </script>\n"+embeddable_event_widget_form_args.css+"\n"+embeddable_event_widget_form_args.code;jQuery("#widget-code").val(a).focus().select(),jQuery("#widget-code-preview iframe").remove();var c=document.createElement("iframe"),g='<!doctype html><html><head></head><body style="margin:0; padding: 0;">'+a+"</body></html>";jQuery("#widget-code-preview").append(c),c.contentWindow.document.open(),c.contentWindow.document.write(g),c.contentWindow.document.close(),jQuery("#widget-code-wrapper").slideDown()}}}};EmbeddableWidgetForm=EmbeddableWidgetForm(),jQuery(document).ready(function(e){EmbeddableWidgetForm.init()});